# DMEC_menu
 
### Цель игры
Цель игры — добраться до финишной черты первым. В игре участвуют два игрока, каждый управляет своим прямоугольником. Первый игрок перемещается вправо при помощи клавиши → (код клавиши 39), второй игрок использует клавишу D. Финишная черта расположена справа экрана.

### Управление игрой
Игра управляется следующими клавишами:

- Клавиша **W** (вверх) и **S** (вниз) используются для навигации по меню.
- Клавишей **Enter** выбирается пункт меню.
- **Esc** открывает или закрывает меню во время игры.
- Пробел (**Space**) ставит игру на паузу или возобновляет её.
- **Стрелки вправо** и **d** для каждого игрока позволяют им двигаться вперед.

### Меню
Меню содержит следующие пункты:

- Возврат в игру — возвращает в игру после открытия меню.
- Новая игра — начинает новую игру с начальной позиции игроков.
- Сохранить — сохраняет текущее положение игроков в файл save.dat.
- Загрузить — загружает ранее сохраненную игру из файла save.dat.
- Выход — завершает программу.
- 
### Игровой процесс
Когда игра начинается, оба игрока находятся слева экрана. Они могут двигаться только вправо, используя свои управляющие клавиши. Как только один из игроков достигает финишной линии, игра заканчивается, и победителем становится тот, кто добрался до финиша первым.

### Пауза
Во время игры можно поставить её на паузу, нажав пробел. Это временно останавливает движение игроков, позволяя сделать перерыв или открыть меню.

### Сохранение и загрузка
Игру можно сохранить в любой момент, выбрав соответствующий пункт в меню. Это позволяет продолжить игру позже, загрузив данные из файла.

Таким образом, это простая гоночная игра, где нужно как можно быстрее достичь правой стороны экрана, избегая столкновений и помех.


## Переменные

- **game_width** и **game_height**: Эти переменные задают размеры игрового поля (800x800 пикселей).
- **menu_mode**: Логическая переменная, которая указывает, находится ли программа в режиме меню или нет.
- **menu_options**: Список строк с опциями меню ("Возврат в игру", "Новая игра", "Сохранить", "Загрузить", "Выход").
- **menu_current_index**: Индекс текущей выбранной опции в меню.
- **menu_options_id**: Список идентификаторов элементов меню, созданных на холсте.
- **KEY_UP**, **KEY_DOWN**, **KEY_ESC**, **KEY_ENTER**, **KEY_PLAYER1**, **KEY_PLAYER2**, **KEY_PAUSE**: Константы для обработки нажатий клавиш.
- **player_size**: Размер прямоугольника, представляющего игроков (100 пикселей).
- **x1, y1, x2, y2**: Координаты положения двух игроков.
- **player1_color** и **player2_color**: Цвета прямоугольников, представляющих игроков ('красный' и 'синий' соответственно).
- **x_finish**: Позиция финишной линии (ширина окна минус 50 пикселей).
- **SPEED**: Скорость перемещения игроков по горизонтали (12 пикселей за один шаг).
- **game_over**: Логическое значение, указывающее, закончилась ли игра.
- **pause**: Логический флаг паузы.

## Функции

- **set_status**: Устанавливает текстовое сообщение на экране и его цвет.
- **pause_toggle**: Переключает состояние паузы (True/False) и обновляет текст сообщения.
- **menu_toggle**: Включает или выключает режим меню.
- **key_handler**: Обработчик событий клавиатуры, который реагирует на различные клавиши управления.
- **check_finish**: Проверяет, достигли ли игроки финишной черты, и объявляет победителя.
- **menu_enter**: Выполняет действие, соответствующее текущей выбранной позиции в меню (возвращение к игре, новая игра, сохранение, загрузка, выход).
- **game_new**: Начинает новую игру, устанавливая начальные координаты игроков.
- **game_resume**: Возобновляет текущую игру после паузы или выхода из меню.
- **game_save**: Сохраняет текущее положение игроков в файл save.dat.
- **game_load**: Загружает сохраненное положение игроков из файла save.dat и устанавливает их на соответствующие места.
- **game_exit**: Завершает программу.
- **menu_show**: Показывает элементы меню на экране.
- **menu_hide**: Скрывает элементы меню.
- **menu_up** и **menu_down**: Изменяют текущую выбранную позицию в меню вверх или вниз.
- **menu_update**: Обновляет внешний вид элементов меню в зависимости от текущего состояния режима меню и выбранной позиции.
- **menu_create**: Создает элементы меню и добавляет их на холст.